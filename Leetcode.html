<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LeetCode Portfolio Showcase</title>
    <style>
        /* --- 1. CSS Variables (LeetCode Dark Theme) --- */
        :root {
            --color-background: #1a1a1a;
            --color-surface: #2d2d2d;
            --color-card: #3d3d3d;
            --color-text: #ffffff;
            --color-text-secondary: #b0b0b0;
            --color-primary: #ffa116;
            --color-secondary: #ffffff;
            --color-accent: #666666;
            --color-easy: #00b8a3;
            --color-medium: #ffc01e;
            --color-hard: #ff375f;
            --color-progress-bg: #404040;
            --max-width: 700px;
        }

        /* --- 2. Base Styles --- */
        body {
            background-color: var(--color-background);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--color-text);
            padding: 20px;
            margin: 0;
            min-height: 100vh;
            box-sizing: border-box;
            line-height: 1.6;
        }

        .container {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 30px;
            background-color: var(--color-surface);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: var(--color-primary);
            margin: 0;
            font-size: 2.8em;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        h2 {
            color: var(--color-text);
            font-size: 1.6em;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--color-primary);
            opacity: 0;
            transform: translateX(-20px);
            animation: fadeInLeft 1s ease 0.8s forwards;
            margin-top: 30px;
            font-weight: 600;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            opacity: 0;
            transform: translateY(-20px);
            animation: fadeInDown 1s ease forwards;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--color-progress-bg);
        }

        .logo {
            margin-left: 10px;
            opacity: 0;
            transform: scale(0.8) rotate(-10deg);
            animation: logoAppear 1s ease 0.5s forwards;
        }

        .logo img {
            width: 110px;
            height: auto;
            display: block;
            transition: transform 0.3s ease;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5));
        }

        .logo img:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .intro-text {
            max-width: 600px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 1s ease 1.1s forwards;
            font-size: 1.1em;
            color: var(--color-text-secondary);
            background-color: var(--color-card);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid var(--color-primary);
        }

        .completed-count {
            font-weight: bold;
            color: var(--color-text);
            margin-top: 25px;
            opacity: 0;
            animation: fadeIn 1s ease 1.4s forwards;
            text-align: center;
            font-size: 1.2em;
            background: linear-gradient(135deg, var(--color-primary), var(--color-medium));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .progress-container {
            margin: 40px 0;
            opacity: 0;
            animation: fadeIn 1s ease 1.4s forwards;
        }

        .difficulty-section {
            margin-bottom: 30px;
            background-color: var(--color-card);
            padding: 20px;
            border-radius: 12px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .difficulty-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .difficulty-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 1.1em;
            font-weight: bold;
            align-items: center;
        }

        .difficulty-title {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .difficulty-badge {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            color: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .badge-easy { background-color: var(--color-easy); }
        .badge-medium { background-color: var(--color-medium); color: #000; }
        .badge-hard { background-color: var(--color-hard); }

        .progress-bar {
            height: 16px;
            background-color: var(--color-progress-bg);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .progress-fill {
            height: 100%;
            border-radius: 10px;
            width: 0;
            transition: width 2s ease-out;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background-image: linear-gradient(
                -45deg,
                rgba(255, 255, 255, 0.2) 25%,
                transparent 25%,
                transparent 50%,
                rgba(255, 255, 255, 0.2) 50%,
                rgba(255, 255, 255, 0.2) 75%,
                transparent 75%,
                transparent
            );
            background-size: 20px 20px;
            animation: moveStripes 1s linear infinite;
            opacity: 0.3;
        }

        .fill-easy { background: linear-gradient(90deg, var(--color-easy), #00d4b4); }
        .fill-medium { background: linear-gradient(90deg, var(--color-medium), #ffd54a); }
        .fill-hard { background: linear-gradient(90deg, var(--color-hard), #ff5c7c); }

        .counter { display: inline-block; font-weight: bold; font-size: 1.1em; }
        .counter-easy { color: var(--color-easy); }
        .counter-medium { color: var(--color-medium); }
        .counter-hard { color: var(--color-hard); }

        .stats-container {
            display: flex;
            justify-content: space-around;
            margin-top: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .stat-card {
            background: var(--color-card);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            flex: 1;
            min-width: 120px;
            transition: transform 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-card:hover { transform: translateY(-3px); }

        .stat-value { font-size: 1.8em; font-weight: bold; margin-bottom: 5px; }
        .stat-label { font-size: 0.9em; color: var(--color-text-secondary); }

        .links {
            margin-top: 40px;
            opacity: 0;
            animation: fadeIn 1s ease 1.7s forwards;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .link-item {
            opacity: 0;
            transform: translateY(20px);
            animation: slideInUp 0.8s ease forwards;
        }

        .link-item:nth-child(1) { animation-delay: 2s; }
        .link-item:nth-child(2) { animation-delay: 2.3s; }

        .link-item a {
            color: var(--color-text);
            text-decoration: none;
            padding: 12px 24px;
            display: inline-block;
            font-weight: 500;
            border-radius: 8px;
            transition: all 0.3s ease;
            background-color: var(--color-card);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .link-item a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 161, 22, 0.2), transparent);
            transition: left 0.5s;
        }

        .link-item a:hover::before { left: 100%; }

        .link-item a:hover {
            background-color: var(--color-primary);
            color: #000;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(255, 161, 22, 0.3);
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: var(--color-text-secondary);
        }

        .refresh-btn {
            background-color: var(--color-primary);
            color: #000;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .refresh-btn:hover {
            background-color: #ffb347;
            transform: translateY(-2px);
        }

        @keyframes fadeInDown { to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInLeft { to { opacity: 1; transform: translateX(0); } }
        @keyframes slideInUp { to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeIn { to { opacity: 1; } }
        @keyframes logoAppear { to { opacity: 1; transform: scale(1) rotate(0); } }
        @keyframes moveStripes {
            0% { background-position: 0 0; }
            100% { background-position: 20px 0; }
        }

        @media (max-width: 600px) {
            .header { flex-direction: column; text-align: center; }
            .logo { margin: 15px 0 0 0; }
            .difficulty-header { flex-direction: column; align-items: flex-start; gap: 10px; }
            .stats-container { flex-direction: column; }
            .links { flex-direction: column; align-items: center; }
            .link-item a { width: 200px; text-align: center; }
        }
    </style>
</head>
<body>
    <main class="container">
        <header class="header">
            <h1>LeetCode</h1>
            <div class="logo" role="img" aria-label="LeetCode Logo">
                <img src="ImageFolder/LeetCodeLogo.png" alt="LeetCode Logo" />
            </div>
        </header>
        <div style="text-align:center; margin-top: 30px;">
            <img
                src="https://leetcard.jacoblin.cool/Doubley81?theme=dark"
                alt="LeetCode Stats Badge"
            />
        </div>

        <section>
            <h2>LeetCode and my experience:</h2>
            <p class="intro-text">
                LeetCode has been something I have used alongside Project Euler in
                order to improve other areas of my coding skills such as hashmaps,
                nodes and binary trees as well as seeing other peoples solutions and
                thought processes. This has allowed me to better understand more
                difficult concepts for my level as well as risks of space and time
                complexity when dealing with larger data sets.
            </p>
        </section>

        <section class="progress-container">
            <div class="loading" id="loadingIndicator">
                Loading your LeetCode stats...
            </div>
            
            <div id="statsContent" style="display: none;">
                <div class="difficulty-section">
                    <div class="difficulty-header">
                        <div class="difficulty-title">
                            <span class="difficulty-badge badge-easy">Easy</span>
                            <span>Problems Solved:</span>
                        </div>
                        <span>
                            <span class="counter counter-easy" id="easyCounter">0</span>
                            / 915
                        </span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill fill-easy" id="progressEasy"></div>
                    </div>
                </div>

                <div class="difficulty-section">
                    <div class="difficulty-header">
                        <div class="difficulty-title">
                            <span class="difficulty-badge badge-medium">Medium</span>
                            <span>Problems Solved:</span>
                        </div>
                        <span>
                            <span class="counter counter-medium" id="mediumCounter">0</span>
                            / 1956
                        </span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill fill-medium" id="progressMedium"></div>
                    </div>
                </div>

                <div class="difficulty-section">
                    <div class="difficulty-header">
                        <div class="difficulty-title">
                            <span class="difficulty-badge badge-hard">Hard</span>
                            <span>Problems Solved:</span>
                        </div>
                        <span>
                            <span class="counter counter-hard" id="hardCounter">0</span>
                            / 887
                        </span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill fill-hard" id="progressHard"></div>
                    </div>
                </div>

                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-value counter-easy" id="easyStat">0</div>
                        <div class="stat-label">Easy Solved</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value counter-medium" id="mediumStat">0</div>
                        <div class="stat-label">Medium Solved</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value counter-hard" id="hardStat">0</div>
                        <div class="stat-label">Hard Solved</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalStat">0</div>
                        <div class="stat-label">Total Solved</div>
                    </div>
                </div>

                <p class="completed-count">
                    <strong>Total problems solved:</strong>
                    <span class="counter" id="totalCounter">0</span>
                </p>

                <div style="text-align: center; margin-top: 20px;">
                    <button class="refresh-btn" id="refreshBtn">Refresh Stats</button>
                </div>
            </div>
        </section>

        <section class="links">
            <div class="link-item">
                <a title="LeetCode" href="https://leetcode.com/">Visit LeetCode Website</a>
            </div>
            <div class="link-item">
                <a title="Back" href="index.html">Back to Portfolio</a>
            </div>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const loadingIndicator = document.getElementById('loadingIndicator');
            const statsContent = document.getElementById('statsContent');
            const refreshBtn = document.getElementById('refreshBtn');
            
            // LeetCode username
            const leetcodeUsername = 'Doubley81';
            
            // Function to fetch LeetCode stats
            async function fetchLeetCodeStats() {
                try {
                    loadingIndicator.style.display = 'block';
                    statsContent.style.display = 'none';
                    
                    // Using a proxy to avoid CORS issues
                    const response = await fetch(`https://cors-anywhere.herokuapp.com/https://leetcode-stats-api.herokuapp.com/${leetcodeUsername}`);
                    
                    if (!response.ok) {
                        throw new Error('Failed to fetch LeetCode stats');
                    }
                    
                    const data = await response.json();
                    
                    if (data.status === 'success') {
                        updateStats(data);
                    } else {
                        throw new Error('Failed to fetch LeetCode stats');
                    }
                } catch (error) {
                    console.error('Error fetching LeetCode stats:', error);
                    loadingIndicator.innerHTML = 'Failed to load LeetCode stats. Please try again later.';
                    
                    // Fallback to hardcoded values if API fails
                    setTimeout(() => {
                        updateStats({
                            easySolved: 39,
                            mediumSolved: 15,
                            hardSolved: 3,
                            totalSolved: 57
                        });
                    }, 1000);
                }
            }
            
            // Function to update the UI with stats
            function updateStats(data) {
                const easySolved = data.easySolved || 0;
                const mediumSolved = data.mediumSolved || 0;
                const hardSolved = data.hardSolved || 0;
                const totalSolved = data.totalSolved || (easySolved + mediumSolved + hardSolved);
                
                const easyTotal = 915;
                const mediumTotal = 1956;
                const hardTotal = 887;
                
                // Update counters
                updateCounter(document.getElementById('easyCounter'), easySolved);
                updateCounter(document.getElementById('mediumCounter'), mediumSolved);
                updateCounter(document.getElementById('hardCounter'), hardSolved);
                updateCounter(document.getElementById('totalCounter'), totalSolved);
                
                // Update stat cards
                updateCounter(document.getElementById('easyStat'), easySolved);
                updateCounter(document.getElementById('mediumStat'), mediumSolved);
                updateCounter(document.getElementById('hardStat'), hardSolved);
                updateCounter(document.getElementById('totalStat'), totalSolved);
                
                // Update progress bars
                setTimeout(() => {
                    const progressEasy = document.getElementById('progressEasy');
                    const progressMedium = document.getElementById('progressMedium');
                    const progressHard = document.getElementById('progressHard');
                    
                    if (progressEasy && easyTotal > 0) {
                        progressEasy.style.width = `${(easySolved / easyTotal * 100).toFixed(2)}%`;
                    }
                    if (progressMedium && mediumTotal > 0) {
                        progressMedium.style.width = `${(mediumSolved / mediumTotal * 100).toFixed(2)}%`;
                    }
                    if (progressHard && hardTotal > 0) {
                        progressHard.style.width = `${(hardSolved / hardTotal * 100).toFixed(2)}%`;
                    }
                }, 1500);
                
                // Hide loading and show content
                loadingIndicator.style.display = 'none';
                statsContent.style.display = 'block';
            }
            
            // Function to animate counters
            function updateCounter(element, targetValue) {
                let current = 0;
                const increment = targetValue / 60;
                
                setTimeout(() => {
                    const timer = setInterval(() => {
                        current += increment;
                        if (current >= targetValue) {
                            current = targetValue;
                            clearInterval(timer);
                        }
                        element.textContent = Math.floor(current);
                    }, 25);
                }, 1400);
            }
            
            // Initial fetch
            fetchLeetCodeStats();
            
            // Refresh button event listener
            refreshBtn.addEventListener('click', fetchLeetCodeStats);
        });
    </script>
</body>
</html>
